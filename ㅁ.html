<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>간단 챗봇</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: #f0f0f5;
      display: flex;
      justify-content: center;
      padding: 50px;
    }
    .chat-container {
      background: white;
      width: 400px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: flex;
      flex-direction: column;
      height: 500px;
    }
    .chat-box {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      border-bottom: 1px solid #ddd;
    }
    .chat-message {
      margin-bottom: 15px;
    }
    .user-msg {
      text-align: right;
      color: #333;
    }
    .bot-msg {
      text-align: left;
      color: #007bff;
    }
    .input-area {
      display: flex;
      padding: 15px;
    }
    input[type="text"] {
      flex: 1;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    button {
      margin-left: 10px;
      padding: 10px 15px;
      font-size: 16px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div id="chatBox" class="chat-box"></div>
    <div class="input-area">
      <input type="text" id="userInput" placeholder="메시지를 입력하세요..." />
      <button onclick="sendMessage()">전송</button>
    </div>
  </div>

  <script>
    const chatBox = document.getElementById('chatBox');
    const userInput = document.getElementById('userInput');

    // 미리 준비한 질문-답변 딕셔너리
    const botReplies = {
      "안녕": ["안녕하세요!", "반가워요!", "안녕! 어떻게 도와줄까요?"],
      "이름이 뭐야": ["나는 간단한 챗봇이야.", "내 이름은 AI 친구야."],
      "잘 지내?": ["응! 항상 좋아.", "덕분에 잘 지내고 있어."],
      "고마워": ["천만에요!", "도움이 되었다니 기뻐요!"],
    };

    function addMessage(text, sender) {
      const msgDiv = document.createElement('div');
      msgDiv.classList.add('chat-message');
      msgDiv.classList.add(sender === 'user' ? 'user-msg' : 'bot-msg');
      msgDiv.textContent = text;
      chatBox.appendChild(msgDiv);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function sendMessage() {
      const text = userInput.value.trim();
      if (!text) return;

      addMessage(text, 'user');
      userInput.value = '';

      // 단순 매칭 후 답변
      const lowerText = text.toLowerCase();
      let replied = false;

      for (const key in botReplies) {
        if (lowerText.includes(key)) {
          const replies = botReplies[key];
          const reply = replies[Math.floor(Math.random() * replies.length)];
          addMessage(reply, 'bot');
          replied = true;
          break;
        }
      }
      if (!replied) {
        addMessage("미안해요, 잘 모르겠어요.", 'bot');
      }
    }

    // 엔터 키로도 전송 가능하게
    userInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });
  </script>
</body>
</html>
